## 每次反馈

| 姓名 | 意见或建议                                                   |
| ---- | ------------------------------------------------------------ |
| ***  | 之前柴老师说插槽可以用<template #name> 我还以为是vue3的用法 查了一下发现是<template v-slot:name>的简写 那如果是匿名插槽可不可以直接<template #>呢? |
| ***  | 嘀！新增一条反馈：上传组件源码如果不是很会的话会有什么后果   |
| ***  | 老师能不能讲一下插槽的用法以及什么时候用插槽                 |

> 插槽 就是坑

> 插槽就是先挖一个坑，然后用组件的人来填坑

定义插槽 >  挖坑

> 定义一个组件  PageTools

```vue
<template>
  <el-row>
      <el-col>
          <slot name="before"></slot>
      </el-col>
      <el-col>
           <slot name="after"></slot>
    </el-col>
   </el-row>
</template>
```

> 使用组件 -> 填坑

> 匿名插槽

```vue
<PageTools>
   填坑内容
    <button>登录按钮</button>
</PageTools>
```

```vue
<PageTools>
   <template v-slot>
    <button>登录按钮</button>
   </template>
   <template v-slot:default>
    <button>登录按钮</button>
   </template>
</PageTools>
```

具名插槽

```vue
<PageTools>
   填坑内容
    <button slot="before">前置按钮</button>
    <button slot="after">后置按钮</button>
</PageTools>
```

```vue
<PageTools>
   <template v-slot:before>
    <button>前置按钮</button>
   </template>
   <template v-slot:after>
    <button>后置按钮</button>
   </template>
</PageTools>
```

后备内容

```vue
<template>
  <el-row>
      <el-col>
          <slot name="before">
              <button>默认前置按钮</button>
       </slot>
      </el-col>
      <el-col>
           <slot name="after">
                  <button>默认后置按钮</button>
         </slot>
    </el-col>
   </el-row>
</template>
```

当使用使用插槽，但是又没有传递插槽内容的时候，这个时候 预先在插槽中预留的后备内容就会显示

```vue
<PageTools />
```

如果填坑了，预留的后备内容就会被传入的插槽内容所替代

```vue
<PageTools>
   <template v-slot:before>
    <button>前置按钮</button>
   </template>
   <template v-slot:after>
    <button>后置按钮</button>
   </template>
</PageTools>
```

作用域插槽

```vue
<template>
  <el-row>
      <el-col>
          <slot name="before" :row="row" :column="column" :$index="index"></slot>
      </el-col>
      <el-col>
           <slot name="after" :data="data"></slot>
    </el-col>
   </el-row>
</template>
<script>
export default {
 data () {
   return {
       row: {  
          name: '张三',
          age: 18
       },
       data: {
           money: 10000,
           social: 600
       }
   }

 }
}
 </script>
```

使用组件 ->作用域插槽 

>  slot-scope ="变量“  变量随意定义，变量是当前插槽传出的所有的属性的集合

```vue
<PageTools>
    <button slot="before" slot-scope="{ row, column, $index }">{{ obj.row.name }}{{ obj.row.age }}</button>
    <button slot="after" slot-scope="obj">{{ obj.data.money }}</button>
</PageTools>
```

新语法

> v-slot:名称=“变量”

``` vue
<PageTools>
    <template v-slot:before="{ row, column, $index }">
    <button  >{{ obj.row.name }}{{ obj.row.age }}</button>
   </template>
    <template v-slot:after="obj">
       <button >{{ obj.data.money }}</button>
   </template>
</PageTools>
```



### 上传excel

>   拿到文件 -》 读出arrayBuffer => 插件（前端插件 xlsx）()